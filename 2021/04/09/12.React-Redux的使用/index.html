<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Orla(CYY)">
    
    <title>
        
            React-Reduxçš„ä½¿ç”¨ |
        
        Orlaçš„éšç¬”å°è®°
    </title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="shortcut icon" href="/images/logo.png">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"www.cyystudying.top","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/profile.jpg","favicon":"/images/logo.png","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.1"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            <a class="logo-title" href="/">
                Orlaçš„éšç¬”å°è®°
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">React-Reduxçš„ä½¿ç”¨</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/profile.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Orla(CYY)</span>
                        
                            <span class="author-label">Lv3</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-04-09 20:42:44
    </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/React/">React</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Redux/">Redux</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>2.5k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>10 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="React-Reduxçš„ä½¿ç”¨"><a href="#React-Reduxçš„ä½¿ç”¨" class="headerlink" title="React-Reduxçš„ä½¿ç”¨"></a>React-Reduxçš„ä½¿ç”¨</h1><p>React-Reduxæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨Reactä¸­æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨Reduxã€‚</p>
<p>æƒ³ä½¿ç”¨React-Reduxï¼Œé¦–å…ˆéœ€è¦å®‰è£…ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react-redux</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªTodoListã€‚</p>
<p>åˆ›å»ºReacté¡¹ç›®ï¼Œindex.htmlå’Œindex.jsä¸å†èµ˜è¿°ã€‚é¡µé¢ä¸ŠæŒ‚è½½ä¸€ä¸ªTodoListç»„ä»¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/TodoList.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input&gt;&lt;/input&gt;</span><br><span class="line">        &lt;button&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoList;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é¡µé¢çš„åŸºæœ¬ç»“æ„é•¿è¿™ä¸ªæ ·å­ã€‚</p>
<p><img src="https://i.loli.net/2021/04/09/9b7J6ISZdpwuDU8.png" alt="6-1 todoliståˆå§‹ç»“æ„.png"></p>
<p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Reduxï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºStoreã€‚</p>
<p>åœ¨srcç›®å½•ä¸‹åˆ›å»ºstoreæ–‡ä»¶å¤¹ï¼Œstoreæ–‡ä»¶å¤¹ä¸­åˆ›å»ºindex.jsï¼Œè¯¥æ–‡ä»¶ä¸­ç¼–å†™storeã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/store/index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&quot;./reducer&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºå¥½storeä¹‹åï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªreducerç»™storeã€‚åœ¨storeç›®å½•ä¸‹åˆ›å»ºreducer.jsæ–‡ä»¶ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/store/reducer.js</span></span><br><span class="line"><span class="comment">// reduceræ˜¯ä¸€ä¸ªçº¯å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">  inputValue: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  list: [],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state = defaultState, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> reducer;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å°±åˆ›å»ºå¥½äº†storeå’Œreducerã€‚</p>
<p>å›åˆ°TodoList.jsä¸­ã€‚</p>
<p>åœ¨æœªä½¿ç”¨React-Reduxçš„æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è·å–å€¼ï¼Œéœ€è¦åœ¨ç»„ä»¶ä¸­è°ƒç”¨<code>store.getState()</code>æ–¹æ³•æ¥è·å–stateã€‚ç°åœ¨æˆ‘ä»¬è¦ä½¿ç”¨React-Reduxï¼Œä¸éœ€è¦è¿™ä¹ˆåšäº†ã€‚</p>
<p>åœ¨ä½¿ç”¨React-Reduxä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ–¹ä¾¿åœ°åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Reduxã€‚</p>
<p>æ¥çœ‹React-Reduxçš„å†™æ³•ã€‚</p>
<p><strong>è¿™é‡Œè¦ç”¨åˆ°Providerã€‚</strong></p>
<h2 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h2><p>æ‰¾åˆ°srcä¸‹çš„index.jsã€‚æ”¹å†™æˆä¸‹é¢è¿™æ ·ğŸ‘‡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">&quot;./TodoList&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = (</span><br><span class="line">  &lt;Provider&gt;</span><br><span class="line">    &lt;TodoList /&gt;</span><br><span class="line">  &lt;/Provider&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(App, <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¼•å…¥äº†<code>Provider</code>ï¼Œå®ƒ<strong>æ¥è‡ªreact-redux</strong>ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªAppç»„ä»¶ï¼Œå†…å®¹æ˜¯ä¸€æ®µJSXæ¨¡æ¿ã€‚åœ¨è¿™ä¸ªæ¨¡æ¿ä¸­ï¼Œæœ€å¤–å±‚ä½¿ç”¨<code>&lt;Provider&gt;</code>åŒ…è£¹ï¼Œå…¶ä¸­æ”¾å…¥æˆ‘ä»¬å®šä¹‰çš„<code>&lt;TodoList&gt;</code>ç»„ä»¶ã€‚</p>
<p>ç„¶ååœ¨æŒ‚è½½ç»„ä»¶çš„æ—¶å€™ï¼Œå°†<code>&lt;App&gt;</code>è¿™ä¸ªç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ä¸Šã€‚</p>
<p>ç»§ç»­åœ¨src/index.jsä¸­å†™ä»£ç ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">&quot;./TodoList&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = (</span><br><span class="line">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">    &lt;TodoList /&gt;</span><br><span class="line">  &lt;/Provider&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(App, <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨src/index.jsä¸­å¼•å…¥äº†æˆ‘ä»¬å†™å¥½çš„storeï¼Œç„¶ååœ¨<code>&lt;Provider&gt;</code>ä¸Šæ·»åŠ ä¸€ä¸ªå±æ€§<code>store</code>ï¼Œè¿™ä¸ªå±æ€§çš„å€¼ç­‰äºæˆ‘ä»¬å¼•å…¥çš„storeå˜é‡ã€‚</p>
<p>è¿™æ ·å†™çš„æ„æ€æ˜¯ï¼Œ<code>&lt;Provider&gt;</code>è¿æ¥äº†storeï¼Œ<strong>é‚£ä¹ˆ<code>&lt;Provider&gt;</code>é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶éƒ½æœ‰èƒ½åŠ›è·å–åˆ°storeä¸­çš„å†…å®¹</strong>ã€‚</p>
<p>ç°åœ¨åœ¨TodoListè¿™ä¸ªç»„ä»¶ä¸­ï¼Œå°±ä¸å†éœ€è¦ä½¿ç”¨<code>store.getState()</code>æ¥è·å–Storeä¸­çš„æ•°æ®äº†ã€‚é‚£ä¹ˆè¦æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p><strong>ç­”ï¼šä½¿ç”¨connectã€‚</strong></p>
<h2 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h2><p>ä¹‹å‰æåˆ°ï¼Œ<code>&lt;Provider&gt;</code>è¿æ¥äº†storeï¼Œé‚£ä¹ˆ<code>&lt;Provider&gt;</code>é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶éƒ½æœ‰èƒ½åŠ›è·å–åˆ°storeä¸­çš„æ•°æ®ã€‚TodoListè¿™ä¸ªç»„ä»¶è·å–Storeä¸­çš„æ•°æ®ï¼Œå°±æ˜¯é€šè¿‡<code>connect</code>æ–¹æ³•ã€‚é¦–å…ˆéœ€è¦å¼•å…¥<code>connect</code></p>
<p>æ³¨æ„çœ‹æœ€åä¸€è¡Œä»£ç ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/Todolist.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input&gt;&lt;/input&gt;</span><br><span class="line">        &lt;button&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(<span class="literal">null</span>, <span class="literal">null</span>)(TodoList);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§ä¹‹å‰çš„å†™æ³•ï¼Œæˆ‘ä»¬åº”è¯¥å¯¼å‡ºçš„æ˜¯TodoListè¿™ä¸ªç»„ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•ï¼Œç„¶åæŠŠTodoListä¼ ç»™è¿™ä¸ªæ–¹æ³•ã€‚connectä¸­å¯ä»¥å†™ä¸¤ä¸ªå†…å®¹ï¼Œæˆ‘ä»¬æš‚ä¸”å†™ä¸ºnullã€‚</p>
<p><strong>è¿™ä¹ˆå†™çš„æ„æ€æ˜¯ï¼Œè®©TodoListç»„ä»¶å’ŒStoreè¿›è¡Œè¿æ¥ã€‚connectæ–¹æ³•å®Œæˆçš„å°±æ˜¯è¿™ä¸ªåŠŸèƒ½ã€‚å› ä¸ºTodoListç»„ä»¶æ˜¯åœ¨Providerè¿™ä¸ªç»„ä»¶ä¹‹ä¸­çš„ï¼Œè¿™ä¸ªç»„ä»¶ä¸­çš„æ‰€æœ‰ç»„ä»¶éƒ½æœ‰èƒ½åŠ›å»è¿æ¥Storeï¼Œé€šè¿‡connectæ–¹æ³•å°±å¯ä»¥è¿›è¡Œè¿æ¥ã€‚</strong></p>
<p>åœ¨ä¸Storeåšè¿æ¥çš„æ—¶å€™ï¼Œéœ€è¦æœ‰ä¸€å®šçš„è¿æ¥æ–¹å¼ã€‚ä»è€Œï¼Œè¡ç”Ÿå‡ºäº†ä¸¤ä¸ªå‚æ•°ã€‚</p>
<h3 id="connectçš„ä¸¤ä¸ªå‚æ•°"><a href="#connectçš„ä¸¤ä¸ªå‚æ•°" class="headerlink" title="connectçš„ä¸¤ä¸ªå‚æ•°"></a>connectçš„ä¸¤ä¸ªå‚æ•°</h3><h4 id="mapStateToProps"><a href="#mapStateToProps" class="headerlink" title="mapStateToProps"></a>mapStateToProps</h4><p><code>mapStateToProps</code>å‚æ•°åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å›ºå®šæ¥æ”¶ä¸€ä¸ªstateï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>ç„¶åæŠŠ<code>mapStateToProps</code>æ”¾åœ¨<code>connect</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, <span class="literal">null</span>)(TodoList);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç çš„æ„æ€æ˜¯ï¼Œè®©ç»„ä»¶TodoListå’ŒStoreå»åšè¿æ¥ï¼Œè¿æ¥çš„æ—¶å€™è¦æœ‰ä¸€å®šçš„è§„åˆ™ï¼Œè§„åˆ™å°±åœ¨<code>mapStateToProps</code>ä¸­ã€‚</p>
<p><code>mapStateToProps</code>è§æ˜çŸ¥ä¹‰ï¼š<strong>å°†Storeä¸­çš„stateæ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„propsã€‚</strong>è¿™ä¸ªå‡½æ•°ä¸­æ¥æ”¶çš„stateæŒ‡çš„å°±æ˜¯Storeä¸­çš„æ•°æ®ã€‚</p>
<p>ç°åœ¨æ¥å®Œå–„ä¸€ä¸‹<code>mapStateToProps</code>è¿™ä¸ªâ€œè§„åˆ™â€ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/Todolist.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input value=&#123;<span class="built_in">this</span>.props.inputValue&#125;&gt;&lt;/input&gt;</span><br><span class="line">        &lt;button&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    inputValue: state.inputValue,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, <span class="literal">null</span>)(TodoList);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¯´ï¼Œä¼ å…¥çš„stateå°±æ˜¯å½“å‰Storeä¸­çš„æ•°æ®ï¼Œ<code>state.inputValue</code>å°±ä»£è¡¨å–å‡ºäº†Storeä¸­çš„<code>inputValue</code>çš„å€¼ã€‚</p>
<p><code>inputValue: state.inputValue</code>å°±æ˜¯å°†Storeä¸­çš„<code>inputValue</code>å€¼æ˜ å°„ä¸ºå½“å‰ç»„ä»¶çš„propsä¸­çš„<code>inputValue</code>çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨æƒ³åœ¨å½“å‰ç»„ä»¶ä¸­ä½¿ç”¨<code>inputValue</code>ï¼Œä½¿ç”¨<code>this.props.inputValue</code>å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå€¼äº†ã€‚</p>
<p>ç°åœ¨è¦å®ç°çš„åŠŸèƒ½æ˜¯ï¼Œåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ï¼ŒStoreä¸­å¯¹åº”çš„inputValueä¹Ÿåº”è¯¥èƒ½å¤ŸåŠ¨æ€çš„æ”¹å˜ï¼Œå¹¶ä¸”æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚è¿™å°±æ¶‰åŠåˆ°äº†å‘Storeä¼ å€¼ã€‚åœ¨React-Reduxä¸­è¯¥å¦‚ä½•å‘Storeä¼ å€¼ï¼Ÿè¿™æ—¶å€™ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>mapDispatchToProps</code>å°±æ´¾ä¸Šäº†ç”¨åœºã€‚</p>
<h4 id="mapDispatchToProps"><a href="#mapDispatchToProps" class="headerlink" title="mapDispatchToProps"></a>mapDispatchToProps</h4><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>mapDispatchToProps</code>ï¼Œè¿™ä¸ªå‚æ•°åŒæ ·åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å›ºå®šæ¥æ”¶ä¸€ä¸ª<code>dispatch</code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>ç„¶åæŠŠ<code>mapDispatchToProps</code>æ”¾åœ¨<code>connect</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(TodoList);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ®µä»£ç çš„æ„æ€æ˜¯ï¼Œå°†TodoListè¿™ä¸ªç»„ä»¶å’ŒStoreè¿›è¡Œå…³è”ï¼Œ<code>mapStateToProps</code>å‚æ•°è§„å®šäº†Storeä¸­çš„æ•°æ®ä¼šæ˜ å°„åˆ°ç»„ä»¶çš„propsä¸Šé¢ï¼›åŒæ—¶ï¼Œå¦‚æœæƒ³å¯¹Storeä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Storeçš„propsè¿›è¡Œä¿®æ”¹ã€‚</p>
<p>ç°åœ¨æ¥ç†è§£<code>mapDispatchToProps</code>ã€‚dispatchæŒ‡çš„å°±æ˜¯store.dispatch()ï¼ŒpropsæŒ‡çš„ä¹Ÿå°±æ˜¯å­ç»„ä»¶æ¥æ”¶åˆ°çš„propsã€‚æˆ‘ä»¬ç°åœ¨ç›¸å½“äºæŠŠStoreçš„dispatchæ–¹æ³•æŒ‚è½½åˆ°äº†propsä¸Šã€‚</p>
<p>ç»“åˆä»£ç æ¥ç†è§£ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/Todolist.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          value=&#123;<span class="built_in">this</span>.props.inputValue&#125;</span><br><span class="line">          onChange=&#123;<span class="built_in">this</span>.handleInputChange.bind(<span class="built_in">this</span>)&#125;</span><br><span class="line">        &gt;&lt;/input&gt;</span><br><span class="line">        &lt;button&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleInputChange</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target.value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    inputValue: state.inputValue,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(TodoList);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨åœ¨inputæ¡†ä¸Šç»‘å®šäº†ä¸€ä¸ªonChangeæ–¹æ³•ï¼Œä¸€æ—¦è§¦å‘onChangeäº‹ä»¶ï¼Œå°±ä¼šè°ƒç”¨<code>handleInputChange</code>æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨propsä¸­çš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œæˆ‘ä»¬æƒ³åŒæ­¥ä¿®æ”¹Storeä¸­çš„æ•°æ®ã€‚</p>
<p>æƒ³è¦æ”¹å˜Storeä¸­çš„å†…å®¹ï¼Œå°±éœ€è¦è°ƒç”¨<code>store.dispatch()</code>æ–¹æ³•ã€‚</p>
<p>ç°åœ¨<code>store.dispatch()</code>å·²ç»é€šè¿‡<code>mapDispatchToProps</code>æ˜ å°„åˆ°äº†propsä¸Šï¼Œæ‰€ä»¥ï¼Œthis.propsä¸­åº”è¯¥æœ‰ä¸€ä¸ªä¸œè¥¿èƒ½å¤Ÿå…è®¸æˆ‘ä»¬å»è°ƒç”¨<code>store.dispatch()</code>ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±åœ¨propsä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>changeInputValue</code>ï¼Œå°†å…¶ç»‘å®šåˆ°onChangeäº‹ä»¶ä¸Šã€‚</p>
<p>å¯æ˜¯ç°åœ¨propsæœ¬èº«å¹¶æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚ç°åœ¨å°±ç”¨åˆ°äº†<code>mapDispatchToProps</code>ã€‚è®©è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ª<code>changeInputValue</code>æ–¹æ³•å³å¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/Todolist.js</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          value=&#123;<span class="built_in">this</span>.props.inputValue&#125;</span><br><span class="line">          onChange=&#123;<span class="built_in">this</span>.props.changeInputValue&#125;</span><br><span class="line">        &gt;&lt;/input&gt;</span><br><span class="line">        &lt;button&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">          &lt;li&gt;<span class="number">123</span>&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    inputValue: state.inputValue,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">changeInputValue</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> action = &#123;</span><br><span class="line">        type: <span class="string">&quot;change_input_value&quot;</span>,</span><br><span class="line">        value: e.target.value,</span><br><span class="line">      &#125;;</span><br><span class="line">      dispatch(action);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„ä¸å†æ˜¯TodoListè¿™ä¸ªç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªconnectæ–¹æ³•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(TodoList);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>mapDispatchToProps</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶dispatchæ–¹æ³•ï¼Œä½¿è¿™ä¸ªå‡½æ•°å¯ä»¥ç›´æ¥ä½¿ç”¨dispatchæ¥è½¬å‘actionã€‚</p>
<p>æ¥ä¸‹æ¥çš„é€»è¾‘å°±å¾ˆç®€å•äº†ï¼Œå®šä¹‰actionï¼Œè½¬å‘ç»™Storeï¼ŒStoreå†äº¤ç»™Reducerå»åšå¤„ç†ï¼Œå¤„ç†å®Œæˆåè¿”å›æ–°æ•°æ®ç»™Storeï¼ŒStoreå†æŠŠæ–°æ•°æ®ç»™åˆ°ç»„ä»¶å»æ¸²æŸ“ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/store/reducer.js</span></span><br><span class="line"><span class="comment">// src/store/reducer.js</span></span><br><span class="line"><span class="comment">// reduceræ˜¯ä¸€ä¸ªçº¯å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">  inputValue: <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">  list: [],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state = defaultState, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (action.type === <span class="string">&quot;change_input_value&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state));</span><br><span class="line">    newState.inputValue = action.value;</span><br><span class="line">    <span class="keyword">return</span> newState;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> reducer;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>ç°åœ¨æ¥è§¦äº†React-Reduxä¸­ä¸¤ä¸ªæ ¸å¿ƒçš„ä¸œè¥¿ã€‚ä¸€ä¸ªæ˜¯Providerç»„ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯connectæ–¹æ³•ã€‚</li>
<li>Providerå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠstoreæä¾›ç»™æ¯ä¸€ä¸ªå†…éƒ¨çš„ç»„ä»¶ã€‚</li>
<li>ä½†æ˜¯å…‰æä¾›storeå¹¶ä¸èƒ½èµ·ä»€ä¹ˆä½œç”¨ï¼Œè¿˜è¦é€šè¿‡connectæ–¹æ³•å°†ç»„ä»¶å’ŒStoreè¿›è¡Œè¿æ¥ã€‚</li>
<li>connectæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯æŸä¸ªç»„ä»¶ï¼Œä»£è¡¨è¿™ä¸ªç»„ä»¶è¦å’ŒStoreè¿›è¡Œè¿æ¥ã€‚å‰ä¸¤ä¸ªå‚æ•°æŒ‡çš„æ˜¯è¿æ¥çš„è§„åˆ™ã€‚è¿™ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯<code>mapStateToProps</code>å’Œ<code>mapDispatchToProps</code>ã€‚</li>
<li><code>mapStateToProps</code>ä¸­å®šä¹‰çš„æ˜¯Storeä¸­æ•°æ®å’Œç»„ä»¶Propsä¸­çš„æ•°æ®çš„å…³ç³»ã€‚</li>
<li><code>mapDispatchToProps</code>ä¸­å°†store.dispatch()æ˜ å°„åˆ°äº†propsä¸Šï¼Œèƒ½å¤Ÿå…è®¸ç»„ä»¶é€šè¿‡propså¯¹Storeä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚</li>
</ul>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/04/16/13.%20HTML+CSS%E9%9D%A2%E8%AF%95%E9%A2%98/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">HTML+CSSé¢è¯•é¢˜</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/04/08/11.%E5%90%8C%E6%97%B6%E4%BD%BF%E7%94%A8Redux-devtools%E6%8F%92%E4%BB%B6%E5%92%8CRedux-thunk%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99store%E5%92%8Creducer/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">åŒæ—¶ä½¿ç”¨Redux-devtoolsæ’ä»¶å’ŒRedux-thunkå¦‚ä½•ç¼–å†™storeå’Œreducer</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;Comments</i>
    </div>
    

        
            
    <div class="twikoo-container">
        <script 
                src="//cdn.jsdelivr.net/npm/twikoo@1.0.0/dist/twikoo.all.min.js"
        ></script>
        <div id="twikoo-comment"></div>
        <script >
            function loadTwikoo() {
                twikoo.init({
                    el: '#twikoo-comment',
                    envId: 'orlablog-6gs7djo1819bd3c8',
                    region: '',
                });
            }

            if ('false') {
                const loadTwikooTimeout = setTimeout(() => {
                    loadTwikoo();
                    clearTimeout(loadTwikooTimeout);
                }, 1000);
            } else {
                window.addEventListener('DOMContentLoaded', loadTwikoo);
            }
        </script>
    </div>



        
    
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Orla(CYY)</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.1</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#React-Redux%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">1.</span> <span class="nav-text">React-Reduxçš„ä½¿ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Provider"><span class="nav-number">1.1.</span> <span class="nav-text">Provider</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#connect"><span class="nav-number">1.2.</span> <span class="nav-text">connect</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#connect%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="nav-number">1.2.1.</span> <span class="nav-text">connectçš„ä¸¤ä¸ªå‚æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#mapStateToProps"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">mapStateToProps</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mapDispatchToProps"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">mapDispatchToProps</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">1.3.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/header-shrink.js"></script><script src="/js/back2top.js"></script><script src="/js/dark-light-toggle.js"></script>


    <script src="/js/local-search.js"></script>



    <script src="/js/code-copy.js"></script>




<div class="post-scripts">
    
        <script src="/js/left-side-toggle.js"></script><script src="/js/libs/anime.min.js"></script><script src="/js/toc.js"></script>
    
</div>



</body>
</html>
